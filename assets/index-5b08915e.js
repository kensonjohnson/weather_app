(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function x(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function d(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(n){return typeof n}:d=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d(e)}function D(e){l(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||d(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function M(e){l(1,arguments);var t=x(e);return D(t*1e3)}function N(e,t,n){var r;l(1,arguments);var o;return k(t)?o=t:n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,o).format(e)}function k(e){return e!==void 0&&!("locale"in e)}async function h(e,t){const r=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&units=imperial&appid=275918102213f3b21d9b6576b944ffca`,{mode:"cors"})).json();return I(r)}function I({weather:e,main:t,wind:n,clouds:r,name:o}){const{id:i,main:a}=e[0],{temp:c,feels_like:b,temp_min:T,temp_max:v,humidity:L}=t,{speed:f,deg:C,gust:E}=n,{all:q}=r;return{cityName:o,weatherCode:i,weatherDescription:a,currentTemp:Math.round(c),feelsLikeTemp:Math.round(b),tempLow:Math.round(T),tempHigh:Math.round(v),humidity:L,windSpeed:Math.round(f)||0,windDirection:C,windGustSpeed:Math.round(E)||Math.round(f),cloudCoverage:q}}async function w(e,t){const r=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${t}&units=imperial&appid=275918102213f3b21d9b6576b944ffca`,{mode:"cors"})).json();return $(r.list)}function $(e){let t=[];return e.forEach(n=>{t.push({weatherCode:n.weather[0].id,weatherDescription:n.weather[0].main,temp:Math.round(n.main.temp),time:N(M(n.dt),{weekday:"short",hour:"numeric",minute:"2-digit"})})}),t}const p=new Map;s([200,201,202,210,211,212,221,230,231,232],"thunderstorm");s([300,301,310,311,313,321,500,501,520,521],"rain");s([302,312,314,502,503,504,522,531],"heavy-rain");s([511,600,601,602,611,612,613,615,616,620,621,622],"snow");s([701,711,721,731,741,751,761,762,771,781],"fog");s([800],"sun-light");s([801,802],"cloud-sunny");s([803,804],"cloud");function s(e,t){e.forEach(n=>{p.set(n,t)})}const _=document.querySelector("[data-search-button]"),u=document.querySelector("[data-searchbar]"),F=document.querySelector("[data-location-button]"),O=document.querySelector("[data-clear-button]"),H=document.querySelector("[data-current-weather-icon]"),P=document.querySelector("[data-weather-desc]"),j=document.querySelector("[data-current-temp]"),G=document.querySelector("[data-city]"),U=document.querySelector("[data-fl-temp"),A=document.querySelector("[data-wind-speed]"),B=document.querySelector("[data-temp-high]"),z=document.querySelector("[data-humidity]"),K=document.querySelector("[data-wind-direction]"),Z=document.querySelector("[data-temp-low]"),J=document.querySelector("[data-clouds]"),Q=document.querySelector("[data-wind-gust-speed]"),m=document.querySelector("[data-forecast]");function y(e){H.src=`images/${p.get(e.weatherCode)??"sun-light"}.svg`,P.innerText=e.weatherDescription,j.innerText=e.currentTemp.toString(),G.innerText=`Today in ${e.cityName}`,U.innerText=e.feelsLikeTemp.toString(),A.innerText=e.windSpeed.toString(),B.innerText=e.tempHigh.toString(),z.innerText=e.humidity.toString(),K.innerText=R(e.windDirection),Z.innerText=e.tempLow.toString(),J.innerText=e.cloudCoverage.toString(),Q.innerText=e.windGustSpeed.toString()}function R(e){let t="Unknown";return e>=337.5||e<22.5?t="Northern":e>=22.5&&e<67.5?t="North-Eastern":e>=67.5&&e<112.5?t="Eastern":e>=112.5&&e<157.5?t="South-Eastern":e>=157.5&&e<202.5?t="Southern":e>=202.5&&e<247.5?t="South-Western":e>=247.5&&e<292.5?t="Western":e>=292.5&&e<337.5&&(t="North-Western"),t}function g(e){m.innerHTML="",e.forEach(t=>{const n=document.createElement("div");n.classList.add("forecast-card"),m.appendChild(n);const r=document.createElement("div");r.classList.add("forecast-card-left"),n.appendChild(r);const o=document.createElement("h2");o.classList.add("forecast-time"),o.innerText=t.time,r.appendChild(o);const i=document.createElement("div");i.classList.add("forecast-text"),i.innerHTML=`${t.temp}&deg;`,r.appendChild(i);const a=document.createElement("div");a.classList.add("forecast-text"),a.innerText=t.weatherDescription,r.appendChild(a);const c=document.createElement("img");c.classList.add("forecast-weather-icon"),c.src=`images/${p.get(t.weatherCode)??"sun-light"}.svg`,n.appendChild(c)})}_.addEventListener("click",S);u.addEventListener("keypress",function(e){e.key==="Enter"&&S()});async function S(){if(u.value.length!==5)return alert("Please enter a valid US Zipcode");const t=await(await fetch(`http://api.openweathermap.org/geo/1.0/zip?zip=${u.value},US&appid=275918102213f3b21d9b6576b944ffca`,{mode:"cors"})).json();y(await h(t.lat,t.lon)),g(await w(t.lat,t.lon))}F.addEventListener("click",async()=>{navigator.geolocation.getCurrentPosition(async({coords:e})=>{y(await h(e.latitude,e.longitude)),g(await w(e.latitude,e.longitude))})});O.addEventListener("click",()=>{u.value="",console.log("clicked")});
